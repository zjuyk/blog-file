[{"categories":["工具"],"content":"如果是对我有所关注的小伙伴，会发现我之前曾经写过一份 mpv 配置，这一份是在我速成了 lua 后的升级版，其中包含对 mpv 0.33 版本大改的对应修正。 ","date":"2021-09-08","objectID":"/blog-file/posts/mpv-config/:0:0","tags":["MPV"],"title":"配置一个顺手的 MPV 播放器","uri":"/blog-file/posts/mpv-config/"},{"categories":["工具"],"content":"0.1 1. 成果展示 配置目录结构如下： . ├── input.conf ├── mpv.conf ├── script-modules │ ├── file-browser-addons │ │ ├── addons.md │ │ ├── apache-browser.lua │ │ ├── favourites.lua │ │ ├── ftp-browser.lua │ │ ├── home-label.lua │ │ ├── ls.lua │ │ ├── m3u-browser.lua │ │ ├── powershell.lua │ │ └── README.md │ └── user-input-module.lua ├── script-opts │ ├── file_browser.conf │ ├── file-browser-keybinds.json │ ├── mpv_crop_script.conf │ └── osc.conf └── scripts ├── assrt.lua ├── autoload.lua ├── file-browser.lua ├── morden.lua ├── mpv_crop_script.lua ├── recent.lua └── user-input.lua ","date":"2021-09-08","objectID":"/blog-file/posts/mpv-config/:0:1","tags":["MPV"],"title":"配置一个顺手的 MPV 播放器","uri":"/blog-file/posts/mpv-config/"},{"categories":["工具"],"content":"0.2 2. 基本配置 这一部分在 ~/.config/mpv/mpv.conf 中设置 0.2.1 2.1 硬件加速 在 archwiki 有很详细的介绍，这里就不赘叙了。配好 vaapi 之后在配置文件中加入 # Hardware video acceleration vo=gpu hwdec=vaapi 0.2.2 2.2 截图设置 我有时候需要给视频快速截图，这是 mpv 内置的功能 # Screenshot config screenshot-directory=\"~/Pictures\" screenshot-format=png screenshot-tag-colorspace=yes screenshot-high-bit-depth=yes screenshot-template=\"%F-%{estimated-frame-number:%P}\" 0.2.3 2.3 其他设置 mpv 的参数之多是出了名的，我只挑选了一些常用的设置，详细参考 官方文档 # save last position save-position-on-quit # keep open when video ends keep-open # remove osd and border no-osd-bar no-border # remove osc for morden.lua osc=no # autoload subtitle with the same name (builtin) sub-auto=fuzzy ","date":"2021-09-08","objectID":"/blog-file/posts/mpv-config/:0:2","tags":["MPV"],"title":"配置一个顺手的 MPV 播放器","uri":"/blog-file/posts/mpv-config/"},{"categories":["工具"],"content":"0.3 3. 额外插件 播放历史 recent.lua 注意默认触发按键是 “`” ，这和 console 冲突，我目前是使用 TAB 来触发 文件列表 file-browser 建议使用 user-input.lua 快速打开文件夹，你只需要按 alt+o 输入路径就能打开一个文件列表了！默认 autoload 是关闭的，这非常合理，毕竟我单独打开文件夹就不是想播放所有的文件 更现代的播放栏 morden.lua 链接里是我的修改版，我还有一些新的想法或许未来会去调整。你说它到底现代在哪？它使用了更现代的 material design 符号字体（x 区域截图 mpv_crop_script.lua 这个脚本使用了预计要被移除的 tick 事件，我会在之后改写。我虽然设置了全局截图，但那只能截取整个界面，有时候我想截取某个区域，这个脚本就派上了用场 字幕搜索加载 assrt.lua 这个脚本目前是从 assrt.net 来获取字幕的，电影相关的字幕很多，但是美剧之类的会差一些，我目前没什么需求，以后或许会考虑加点其他的源 ","date":"2021-09-08","objectID":"/blog-file/posts/mpv-config/:0:3","tags":["MPV"],"title":"配置一个顺手的 MPV 播放器","uri":"/blog-file/posts/mpv-config/"},{"categories":["工具"],"content":"0.4 4. 总结 这份配置需要记忆一定的快捷键，如果你更喜欢点点点，那可能不大适合你。 ","date":"2021-09-08","objectID":"/blog-file/posts/mpv-config/:0:4","tags":["MPV"],"title":"配置一个顺手的 MPV 播放器","uri":"/blog-file/posts/mpv-config/"},{"categories":["工具"],"content":"0.5 5. 参考链接 dotfiles mpv userscripts ","date":"2021-09-08","objectID":"/blog-file/posts/mpv-config/:0:5","tags":["MPV"],"title":"配置一个顺手的 MPV 播放器","uri":"/blog-file/posts/mpv-config/"},{"categories":["工具"],"content":"前些日子看到 firefox 流失近 5000 万用户量的新闻时悚然一惊，我之前也因为之前火狐长期不活动会卡死的 bug 跑到了 chrome 避难，没成想火狐已经到了这个地步。在长期不活动卡死的问题修复后我又回到了火狐，但正好遇上 90 版本 UI 大改，新的界面设计确实有点劝退人，好在火狐优点之一就是定制化，花了点心思弄了个合用的界面，下面就介绍一下我的具体操作步骤并附上我的插件配置。 ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:0","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":["工具"],"content":"0.1 1 实现效果 没图没真相，还是先来张效果图 注：我是平铺用户，没有最大化和最小化这样的操作习惯，如果你有的话不建议完全照搬我的配置 ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:1","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":["工具"],"content":"0.2 2 实现流程 0.2.1 2.1 移除标题栏 标题栏是个可有可无的东西，作为平铺用户我并不愿意它挤占屏幕高度。 在 kde 上你可以通过 window rules 匹配火狐的 window class 将窗口边框去除，如下添加 No titlebar and frame 属性： 不过注意这样移除边框后就没窗口阴影了（我并不需要这个 如果你和我一样是使用平铺窗口管理器的话，直接在对应的配置文件设置去除边框就行。另外还有使用平铺脚本的用户可以在对应的脚本管理界面勾选去除窗口边框，以 kwin-tiling 这个脚本举例： 0.2.2 2.2 引用外部样式 众所周知，firefox 允许加载外部 css 来进行定制化。如果你自己 css 能力比较强而且时间充裕可以按照官方文档来自己定制。我并没有自己花太多时间去具体设计，而是选择在 Firefox-Elegant-NordTheme 基础上进行修改，我认为他的调色很符合我的审美。 先在 about:config 允许火狐加载外部样式。 将 toolkit.legacyUserProfileCustomizations.stylesheets 设为 true，然后按照上面那个项目的说明在火狐配置目录下新建 chrome 文件夹并放入 css 文件，目录树如下： chrome/ |- userChrome.css |- userContent.css |- userColors.css ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:2","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":["工具"],"content":"0.3 3 自定义调整 0.3.1 3.1 移除标签栏 虽然我对那份配置的调色已算满意，但是默认的效果如下： 可以明显发现标签栏的高度实在是有点过了，而且右边的留空极其难看，我本身是 treestyletab 用户，于是准备直接采用垂直标签栏。 #titlebar #TabsToolbar { padding: 6px 0px 2px 6px !important; background: var(--base_color1) !important; visibility: collapse; } 在 #TabsToolbar 下加上 visibility: collapse; 便可以关掉水平标签。 0.3.2 3.2 定制垂直标签栏 对于 treestyletab 推荐采用 proton 主题，然后建议采用和火狐主题对应的颜色，我的 css 如下： :root { --theme-colors-button_active: rgb(0, 221, 255); } #background { background: #2e3440 !important; } tab-item-substance { border: solid 1px #00000012; } tab-item.active .background { background-color: steelblue; } tab-item.active .label-content { font-weight: bold; font-size: 14px; } tab-item.active tab-twisty, tab-item.active .label-content, tab-item.active tab-counter { color: #fff; } tab-item:not(.active) .background { background-color: #3b4252; } tab-item:not(.active) .label { color: #ffff !important; } tab-item tab-item-substance:hover { background: #5A89B7 !important; } .newtab-button { background: #2e3440 !important; } 你可以根据 官方文档 来进一步定制 0.3.3 3.3 额外小技巧 移除 treestyletab Header，也就是侧边栏上面那个切换头 在 userChrome.css 加上 /* only remove TST headers */ #sidebar-box[sidebarcommand=\"treestyletab_piro_sakura_ne_jp-sidebar-action\"] #sidebar-header { display: none; /* remove sidebar header */ border-color: var(--base_color2) !important; } 设置垂直标签栏悬浮显示，也就是默认贴边变小，鼠标悬浮弹出 在 userChrome.css 加上 /* The default sidebar width. */ #sidebar-box { overflow: hidden!important; position: relative!important; transition: all 100ms!important; min-width: 40px !important; max-width: 300px !important; } /* The sidebar width when hovered. */ #sidebar-box #sidebar,#sidebar-box:hover { transition: all 100ms!important; min-width: 300px !important; max-width: 300px !important; } 设置侧边栏分隔线宽度 在 userChrome.css 加上 .sidebar-splitter { /* display: none; remove sidebar split line */ min-width: 1px !important; max-width: 1px !important; border-color: var(--base_color2) !important; } ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:3","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":["工具"],"content":"0.4 4 我的扩展 SwitchyOmega 代理扩展，懂的都懂 saladict 划词翻译插件，支持 PDF，读论文的福音 Plasma Integration 可以和 KDE 良好的整合在一起， 播放和下载通知与 KDE 嵌合 Tampermonkey 不可或缺的浏览器插件，不管是用其他人的脚本还是自己写用处都极大 Endless Google 搜索引擎不再只有第一页，不用再手动点击下一页了 Google Images direct link 获取谷歌搜索的图片直链 Octotree 在侧边栏显示 github 仓库目录 QR Code 生成和识别二维码 OneTab 暂时保存标签组，适合干活干到一半临时有事的情况 Midnight Lizard 网页配色调整插件，我习惯给网页调配上统一的 nord 配色 Tabliss 用来提供新标签页的插件，在我上面的截图有体现 User-Agent Switcher and Manager 有时候网站会限制 UA，所以需要用这个插件来切换 Tree Style Tab 这个上面已经重点介绍过了，用来展示树形标签页的 uBlock Origin 广告拦截插件，就我的体验上来说还行 ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:4","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":["工具"],"content":"0.5 5 特殊设置 0.5.1 5.1 硬件加速 具体参见 Arch wiki 0.5.2 5.2 使用 QT 文件对话框 先在 about:config 将 widget.use-xdg-desktop-portal 调成 true，再安装 xdg-desktop-portal{,-kde} 这两个包即可，但注意这会导致火狐一直认为自己不是默认浏览器，所以自己决定。 ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:5","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":["工具"],"content":"0.6 6 注意点 目前网页截图在 wayland 下还无法复制 目前 91.02 stable 版本全局菜单还不支持，需要打 patch，可以安装 firefox-appmenu 来临时解决该问题 火狐没有传递当前输入光标位置给 fcitx5 所以开启单行模式会停留在预编辑区首部 而 chrome 是支持的 ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:6","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":["工具"],"content":"0.7 7 参考和我的配置 我的配置 Firefox-Elegant-NordTheme TreeStyleTab wiki Arch wiki ","date":"2021-08-15","objectID":"/blog-file/posts/custom-firefox/:0:7","tags":["firefox","火狐","KDE"],"title":"我的火狐配置","uri":"/blog-file/posts/custom-firefox/"},{"categories":null,"content":" 人生如白驹过隙，相逢即是有缘！ Liolok 快乐的小皓奇，拥有非常多的卡哇伊贴纸，也很羡慕他的手办，同时还是next主题开发组成员 Losses Don 优秀的前端设计师（拥有心理学背景呦），很擅长制作PPT，而且博客的布局和控件设计很有参考价值 Asutorufa ArchLinux User一枚 Axionl 艾老师，笔名艾雨寒，ArchLinuxCN的优秀打包者之一，会很有耐心的帮助新人解决问题 Lilydjwg 依云，昵称百合仙子，lilac的作者和维护者，拥有非常多的厉害脚本和工具，回答问题一针见血，渊博的学识和严谨的态度令人折服 Farseerfc FC教授，不是尊称，他真的是日本一所大学的教授，Archlinux TU之一，据说是能够背下Archwiki的男人 Brucezhang 一只可爱的兔子，因为是电子包维护最多的人也被叫做电子兔，这只兔子满嘴骚话 Hosxy 自称二次元死宅，很喜欢他设计的Fcitx5皮肤，超级好看，大家快去给star DuckSoft 一般叫他鸭鸭，是 qv2ray 的作者之一，已经是我每个系统必装的应用了，感谢他们的维护 AlynxZhou 周老师，很喜欢吹口琴，同时也是群里少数的 gnome 用户（被迫害 Vifly 群里著名炼丹师，当初 github action 打 arch 包还是向他学的 Oldherl 老海尔是群里 400 岁的老人了，同时还是人肉字体识别机，文泉驿的好几个字体他都有参与贡献。 Wgjak47 ak47 是老运维大师了，同时还是群里的政治大师，了解很多社科知识。 ","date":"2019-11-06","objectID":"/blog-file/friends/:0:0","tags":null,"title":"友情链接","uri":"/blog-file/friends/"},{"categories":null,"content":"自我简述 生长于江西这个道教福地，从小有着对于道教的孺慕之情，于是乎中二少年时期给自己取了个道号 “千玄子”，没成想一直沿用到了今天。 非常喜欢历史，由于时间原因也没有去找文言文原本去啃，大多是央视《中华通史》这种系列视频，当然一些有趣的野史会去翻原本考据。有兴趣的话可以一起探讨！当初为什么不选历史这个专业呢？还是要恰饭的嘛。 被动型人格拥有者，面对主动来和自己交谈的人会非常热情，但是对主动交谈常常会畏首畏尾，踌躇不前。 坚定的ArchLinux使用者，自接触到Linux世界，陪伴我最长时间的还是ArchLinux，这个优雅的发行版就是有着这样神奇的魔力，仿佛包含一切的wiki为我彻底打开了新世界的大门。 专业是CS，喜欢折腾各种电子设备，遇上新应用总是要在第一时间捏成自己喜欢的形状，尤其是 DE/WM（这算是强迫症吗？） 喜欢轻音乐，以燃向和哀伤的调子为主，喜欢古风，西方的音乐较少听。 ","date":"2019-11-06","objectID":"/blog-file/about/:0:1","tags":null,"title":"关于","uri":"/blog-file/about/"},{"categories":null,"content":"欢迎来找我玩耍 GPG: B3A9 251F BEA2 1298 B80B 7F9E F84D 36A7 3BF3 9DC8 Telegram: @zjuyk Email: Gmail | Edu ","date":"2019-11-06","objectID":"/blog-file/about/:0:2","tags":null,"title":"关于","uri":"/blog-file/about/"}]